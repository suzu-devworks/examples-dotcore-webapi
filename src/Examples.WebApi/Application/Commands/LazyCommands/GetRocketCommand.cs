using System.Threading.Tasks;
using Microsoft.AspNetCore.Mvc;
using Examples.WebApi.Application.Repositories;

namespace Examples.WebApi.Application.Commands.LazyCommands
{
    public class GetRocketCommand : IGetRocketCommand
    {
        private readonly IRocketRepository _rocketRepository;

        public GetRocketCommand(IRocketRepository rocketRepository) =>
            _rocketRepository = rocketRepository;

        public async Task<IActionResult> ExecuteAsync(int rocketId)
        {
            var rocket = await _rocketRepository.GetRocket(rocketId);
            if (rocket == null)
            {
                return new NotFoundResult();
            }
            return new OkObjectResult(rocket);
        }

    }
}